# 2025-12-18-add-retro-tui 提案

## 结论

将 Web Dashboard（`dashboard/`，React + Vite）的 UI 做到“**彻底复古 TUI 风格**”，但交互仍保持现代 Web 逻辑（鼠标点击、表单输入、链接跳转）：

- 仅做 UI/UX 层改造：布局、配色、字体、边框、信息密度与“终端窗口”质感。
- 不做真正的终端 TUI（不引入 raw mode、光标导航、全键盘操作等）。
- 保持现有功能与链路不变（登录回调、`/connect`、usage 查询、CLI 安装指引）。

## 目标与非目标

### 目标（IN）

- Dashboard 全面“TUI 皮肤化”：
  - monospace 字体、终端配色、强对比信息层级
  - box/窗口式布局（标题栏、面板边框、状态栏/帮助栏）
  - CRT 质感（scanlines/轻微 glow/噪点），并遵守 `prefers-reduced-motion`
- `/connect` 页面也使用同一主题（保证 CLI 引导页风格一致）。
- 全程鼠标可用：按钮、链接、日期选择、表格滚动等保持标准 Web 行为。

### 非目标（OUT）

- 不新增新的后端能力/接口/鉴权面。
- 不改 CLI 的交互方式（`init/sync/status/uninstall` 行为保持）。
- 不引入新的前端 UI 框架或组件库（保持依赖最小）。

## 设计原则（Designer）

1. **只改外观，不动链路**：不改变 auth / connect / 查询的行为与契约。
2. **“像 TUI”但仍是 Web**：复古的是视觉与信息架构，而非输入模型。
3. **尊重用户偏好**：动画/闪烁必须可被 `prefers-reduced-motion` 自动降级。

## 实施方案（选型）

### 方案 A：引入前端组件库/主题库

- 优点：开发快
- 缺点：引入依赖、风格受限、与当前“最小依赖”的实现哲学不一致

### 方案 B：纯 CSS + 少量结构调整实现“复古 TUI 皮肤”（推荐）

- 优点：零新依赖、可控、与当前代码风格一致
- 缺点：需要自己打磨细节（层级、边框、对齐、动效降级）

**选择：方案 B。**

## 风险与对策

- 过度特效导致可读性下降：以“信息可读”为第一优先，特效作为可降级 overlay。
- 移动端/小屏布局拥挤：用 `ch` 宽度上限 + 响应式折叠，确保核心数据可见。

## 里程碑（Milestones）

1. **M1：主题与框架**
   - Dashboard 全局 TUI 主题（颜色/字体/边框/窗口布局）落地
2. **M2：主 Dashboard 页面重排**
   - 顶部标题栏 + 主内容窗口化（安装指引、筛选、指标、图表、表格）
3. **M3：/connect 页面统一**
   - Connect CLI 页与主页面统一风格与可用性
4. **M4：细节打磨**
   - CRT 质感 overlay、hover/active、focus ring、reduced-motion 降级与对比度校验

## Plan B（触发条件）

若出现以下任一情况，切换为“更保守的复古主题（减少特效，只保留配色+边框）”：

- `prefers-reduced-motion` 用户仍反馈不适（闪烁/抖动）
- 小屏/移动端可用性显著下降

